(function(e){function t(t){for(var r,i,c=t[0],s=t[1],u=t[2],l=0,A=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&A.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(A.length)A.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"9661689c"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=i(e);var u=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,n[1](u)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1ff1":function(e,t,n){"use strict";n("3ae6")},"3ae6":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("5530"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7a23"));function o(e,t,n,r,o,i){var c=Object(a["H"])("router-view");return Object(a["A"])(),Object(a["f"])(c)}n("ac1f"),n("5319");var i={mounted:function(){this.restoreHost(),this.restoreSDKType(),this.updateStatus(),console.log("global state",this.Host,this.isARReady,this.hasPermission,this.arcoreSupportStatus,this.selectedArSDKType),this.Host||this.$router.replace("/First")}},c=(n("fadf"),n("6b0d")),s=n.n(c);const u=s()(i,[["render",o]]);var l=u,d=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),A=n("679d"),p=n.n(A),b=n("ef31"),g=n.n(b),f=n("87d4"),h=n.n(f),v={class:"container"},S=Object(a["i"])("div",{class:"banner"},[Object(a["i"])("img",{src:p.a,alt:""})],-1),j={class:"cover"},O={key:0,class:"appli-type"},k=Object(a["i"])("img",{src:g.a,alt:""},null,-1),m=[k],R=["src"],I={key:2,src:h.a},y={class:"appli-status"},w={class:"appli-info van-multi-ellipsis--l2"},x={class:"loading-wrapper"};function E(e,t,n,r,o,i){var c=Object(a["H"])("van-nav-bar"),s=Object(a["H"])("van-dropdown-item"),u=Object(a["H"])("van-dropdown-menu"),l=Object(a["H"])("van-grid-item"),d=Object(a["H"])("van-grid"),A=Object(a["H"])("van-list"),p=Object(a["H"])("van-pull-refresh"),b=Object(a["H"])("van-loading"),g=Object(a["H"])("van-overlay");return Object(a["A"])(),Object(a["h"])("div",v,[Object(a["k"])(c,{title:"LarkXR","right-text":"设置",onClickRight:i.onSetupPage},null,8,["onClickRight"]),S,Object(a["k"])(u,null,{default:Object(a["P"])((function(){return[Object(a["k"])(s,{modelValue:o.curretnAppliType,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.curretnAppliType=e}),options:o.category,onChange:i.onFresh},null,8,["modelValue","options","onChange"]),Object(a["k"])(s,{modelValue:o.region.regionId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.region.regionId=e}),options:o.regionList},null,8,["modelValue","options"])]})),_:1}),Object(a["k"])(p,{modelValue:o.refreshing,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.refreshing=e}),onRefresh:i.onFresh},{default:Object(a["P"])((function(){return[Object(a["k"])(A,{class:"list",loading:o.loading,"onUpdate:loading":t[2]||(t[2]=function(e){return o.loading=e}),error:o.listError,"onUpdate:error":t[3]||(t[3]=function(e){return o.listError=e}),finished:i.finished,"finished-text":"","error-text":"请求失败，点击重新",onLoad:i.onNextPage},{default:Object(a["P"])((function(){return[Object(a["k"])(d,{"column-num":2,gutter:10,border:!1,center:!1},{default:Object(a["P"])((function(){return[(Object(a["A"])(!0),Object(a["h"])(a["a"],null,Object(a["G"])(o.list,(function(e,t){return Object(a["A"])(),Object(a["f"])(l,{class:"appli-item",key:t,onClick:i.onEnterAppli,"data-appid":e.appliId,"data-appliType":e.appliType,"data-instanceMax":e.instanceMax},{default:Object(a["P"])((function(){return[Object(a["i"])("div",j,[9==e.appliType?(Object(a["A"])(),Object(a["h"])("div",O,m)):Object(a["g"])("",!0),e.picUrl?(Object(a["A"])(),Object(a["h"])("img",{key:1,src:e.picUrl},null,8,R)):(Object(a["A"])(),Object(a["h"])("img",I)),Object(a["i"])("div",y,[Object(a["i"])("span",null,Object(a["K"])(e.runCnt)+"/"+Object(a["K"])(e.limitMaxFps),1)])]),Object(a["i"])("div",w,[Object(a["i"])("div",null,Object(a["K"])(e.appliName),1)])]})),_:2},1032,["onClick","data-appid","data-appliType","data-instanceMax"])})),128))]})),_:1})]})),_:1},8,["loading","error","finished","onLoad"])]})),_:1},8,["modelValue","onRefresh"]),Object(a["k"])(g,{show:o.showLoading,onClick:t[5]||(t[5]=function(e){return o.showLoading=!1})},{default:Object(a["P"])((function(){return[Object(a["i"])("div",x,[Object(a["k"])(b,{type:"spinner",color:"#1989fa"})])]})),_:1},8,["show"])])}var P=n("1da1"),T=(n("99af"),n("96cf"),n("d4ec")),B=n("bee2"),L=n("bc3a"),C=n.n(L),H=(n("2b3d"),n("9861"),n("5502")),D=n("ade3"),M=window["$Native"],N=function(){function e(){Object(T["a"])(this,e)}return Object(B["a"])(e,null,[{key:"showToast",value:function(e){null===M||void 0===M||M.showToast(e)}},{key:"enterAppli",value:function(e){null===M||void 0===M||M.enterAppli(e)}},{key:"onSaveServerAddress",value:function(e,t){console.log("native onSaveServerAddress ",e,parseInt(t)),null===M||void 0===M||M.onSaveServerAddress(e,parseInt(t))}},{key:"hasPermission",value:function(){return!!M&&(null===M||void 0===M?void 0:M.hasPermission())}},{key:"checkPermission",value:function(){return console.log("native checkPermission"),!!M&&(null===M||void 0===M?void 0:M.checkPermission())}},{key:"arcoreSupportStatus",value:function(){return console.log("native arcoreSupportStatus"),M?null===M||void 0===M?void 0:M.arcoreSupportStatus():-1}},{key:"arcoreInstallStatus",value:function(e){return console.log("native arcoreInstallStatus",e),M?null===M||void 0===M?void 0:M.arcoreInstallStatus(e):-1}},{key:"hwarengineSupportStatus",value:function(){return console.log("native hwarengineSupportStatus"),M?null===M||void 0===M?void 0:M.hwarengineSupportStatus():-1}},{key:"hwarengineInstallStatus",value:function(e){return console.log("native hwarengineInstallStatus",e),M?null===M||void 0===M?void 0:M.hwarengineInstallStatus(e):-1}},{key:"selectARSDK",value:function(e){return!!M&&(null===M||void 0===M?void 0:M.selectARSDK(e))}}]),e}();Object(D["a"])(N,"AR_SDK_TYPE_ARCORE",1),Object(D["a"])(N,"AR_SDK_TYPE_HW_ARENGINE",2);var U=Object(H["a"])({state:{Host:"",hasPermission:!1,selectedArSDKType:N.AR_SDK_TYPE_ARCORE,arcoreSupportStatus:-1,arcoreInstallStatus:-1,arengineSupportStatus:-1,arengineInstallStatus:-1},getters:{isArcoreReady:function(e){return(0==e.arcoreSupportStatus||1==e.arcoreSupportStatus)&&0==e.arcoreInstallStatus},isArengineReady:function(e){return(0==e.arengineSupportStatus||1==e.arengineSupportStatus)&&0==e.arengineInstallStatus},isARReady:function(e,t){return e.hasPermission&&(t.isArcoreReady||t.isArengineReady)},selectedArSDKString:function(e){return e.selectedArSDKType+""},arcoreSupportStatusText:function(e){var t=e.arcoreSupportStatus;switch(t){case 0:return"支持";case 1:return"支持但需要更新状态";case 2:return"不支持"}return"未知是否支持"},arcoreInstallStatusText:function(e){var t=e.arcoreInstallStatus;switch(t){case 0:return"已安装";case 1:return"需要安装";case 2:return"不支持"}return"未知是否安装"},arcoreStatusReason:function(e){return-1==e.arcoreSupportStatus?"未知环境":2==e.arcoreSupportStatus?"不支持":0==e.arcoreInstallStatus?1==e.arcoreSupportStatus?"已就绪,但需要更新状态":"已就绪":1==e.arcoreInstallStatus?"需要安装环境":"安装失败"},arengineSupportStatusText:function(e){var t=e.arengineSupportStatus;switch(t){case 0:return"支持";case 1:return"支持但需要更新状态";case 2:return"不支持"}return"未知是否支持"},arengineInstallStatusText:function(e){var t=e.arengineInstallStatus;switch(t){case 0:return"已安装";case 1:return"需要安装";case 2:return"不支持"}return"未知是否安装"},arengineStatusReason:function(e){return-1==e.arengineSupportStatus?"未知环境":2==e.arengineSupportStatus?"不支持":0==e.arengineInstallStatus?1==e.arengineSupportStatus?"已就绪,但需要更新状态":"已就绪":1==e.arengineInstallStatus?"需要安装环境":"安装失败"}},mutations:{setHost:function(e,t){e.Host=t},setSelectedArSDKType:function(e,t){e.selectedArSDKType=t,console.log("setSelectedArSDKType",t)},setHasPermission:function(e,t){e.hasPermission=t},setArcoreSupportStatus:function(e,t){e.arcoreSupportStatus=t},setArcoreInstallStatus:function(e,t){e.arcoreInstallStatus=t},setArengineSupportStatus:function(e,t){e.arengineSupportStatus=t},setArengineInstallStatus:function(e,t){e.arengineInstallStatus=t}},actions:{saveHost:function(e,t){var n=e.commit;n("setHost",t),localStorage.setItem("host",t);try{var r=new URL(t);console.log("native saveserver address ",r,r.hostname,r.port),N.onSaveServerAddress(r.hostname,r.port)}catch(a){console.warn("parse host url failed",t)}},restoreHost:function(e){var t=e.commit,n=localStorage.getItem("host");n&&t("setHost",n);try{var r=new URL(n);console.log("native saveserver address ",r,r.hostname,r.port),N.onSaveServerAddress(r.hostname,r.port)}catch(a){console.warn("parse host url failed",n)}},selectARSDK:function(e,t){var n=e.commit;n("setSelectedArSDKType",t),localStorage.setItem("sdkType",t),N.selectARSDK(t)},restoreSDKType:function(e){var t=e.commit,n=parseInt(localStorage.getItem("sdkType"));n?(t("setSelectedArSDKType",n),N.selectARSDK(n)):t("setSelectedArSDKType",N.AR_SDK_TYPE_ARCORE)},updateStatus:function(e){var t=e.commit;t("setHasPermission",N.hasPermission()),t("setArcoreSupportStatus",N.arcoreSupportStatus()),t("setArcoreInstallStatus",N.arcoreInstallStatus(!1)),t("setArengineSupportStatus",N.hwarengineSupportStatus()),t("setArengineInstallStatus",N.hwarengineInstallStatus(!1))},checkArcoreSupport:function(e){var t=e.commit;t("setArcoreSupportStatus",N.arcoreSupportStatus())},checkArcoreInstall:function(e,t){var n=e.commit;n("setArcoreInstallStatus",N.arcoreInstallStatus(t))},checkArengineSupport:function(e){var t=e.commit;t("setArengineSupportStatus",N.hwarengineSupportStatus())},checkArengineInstall:function(e,t){var n=e.commit;n("setArengineInstallStatus",N.hwarengineInstallStatus(t))}}}),Q=1e3,V=function(){function e(){Object(T["a"])(this,e)}return Object(B["a"])(e,[{key:"Get",value:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C.a.get(U.state.Host+"/"+t,{params:n});case 2:if(r=e.sent,!r.data){e.next=11;break}if(r.data.code!=Q){e.next=8;break}return e.abrupt("return",r.data.result);case 8:throw r.data.message;case 9:e.next=12;break;case 11:throw r;case 12:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"asyncPost",value:function(){var e=Object(P["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=U.state.Host+"/"+t,e.next=3,C.a.post(r,n);case 3:if(a=e.sent,!a.data){e.next=12;break}if(a.data.code!=Q){e.next=9;break}return e.abrupt("return",a.data.result);case 9:throw a.data.message;case 10:e.next=13;break;case 12:throw a;case 13:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"ToWebClientUrl",value:function(e){return encodeURIComponent(U.state.Host+"/webclient?"+K(e))}}]),e}();function K(e){var t="";for(var n in e)n&&(t+=n+"="+e[n]+"&");return t}var X=new V,F=X,z=n("626a"),J={name:"Index",data:function(){return{curretnAppliType:"",category:[{text:"全部",value:""},{text:"PXYAR",value:9},{text:"SR",value:"SIM"}],region:{delay:9999,regionId:"",regionName:""},regionList:[{text:"未配置区域",value:"",regionId:""}],triggered:!1,list:[],nextPage:1,hasNextPage:!1,pageNum:1,showRegionList:!1,refreshing:!1,loading:!1,listError:!1,showLoading:!1}},computed:{finished:function(){return!this.hasNextPage},regionClass:function(){return this.showRegionList?"region-list show-region-list":"region-list"}},methods:{onFresh:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.showLoading=!0,t.next=4,e.freshList();case 4:t.next=11;break;case 6:t.prev=6,t.t0=t["catch"](0),console.warn(t.t0),e.listError=!0,Object(z["a"])("请求失败，请确认网络连接和服务器地址是否正确");case 11:e.showLoading=!1,e.refreshing=!1;case 13:case"end":return t.stop()}}),t,null,[[0,6]])})))()},onNextPage:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.showLoading=!0,t.next=4,e.freshList(e.nextPage,!1);case 4:e.hasNextPage||Object(z["a"])("没有更多啦~"),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.warn(t.t0),e.listError=!0;case 11:e.showLoading=!1,e.loading=!1,console.log("on next page");case 14:case"end":return t.stop()}}),t,null,[[0,7]])})))()},freshList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(r,a){F.Get("getAppliList?appliType="+e.curretnAppliType,{pageSize:12,page:t}).then((function(t){console.log("fetch list success ",t);var a={current:parseInt(t.current),pages:parseInt(t.pages)},o={hasNextPage:a.current<a.pages,nextPage:a.current<a.pages?a.current+1:a.current,pageNum:a.current};console.log("page info ",a,o),n?(e.hasNextPage=o.hasNextPage,e.nextPage=o.nextPage,e.pageNum=o.pageNum,e.list=t.records):(e.hasNextPage=o.hasNextPage,e.nextPage=o.nextPage,e.pageNum=o.pageNum,e.list=e.list.concat(t.records)),r()})).catch((function(e){console.warn("fetch list failed ",e),a()}))}))},freshRegionList:function(){var e=this;F.Get("renderServer/regionList").then((function(t){if(t.length>0){console.log("region list ",t,t.length),e.regionList=t;for(var n=0;n<e.regionList.length;n++)e.regionList[n].text=e.regionList[n].regionName?e.regionList[n].regionName:"本地服务器",e.regionList[n].value=e.regionList[n].regionId}e.region=e.regionList[0]})).catch((function(e){console.error(e)}))},onEnterAppli:function(e){var t=this,n=e.currentTarget.dataset.appid,r=e.currentTarget.dataset.applitype,a=e.currentTarget.dataset.instancemax;if(console.log("on enter appli",n,r,this.region,e.currentTarget.dataset,a),9==r){if(!this.isARReady)return void Object(z["a"])("AR环境未准备好，当前只支持SR应用");console.log("enter ar app"),F.Get("/taskInfo/getRunningCnt",{appliId:n}).then((function(e){console.log("getRunningCnt ",parseInt(e.total),a),parseInt(e.total)<=a?N.enterAppli(n):N.showToast("渲染实例不足")})).catch((function(e){console.warn("getRunningCnt failed",e)}))}else 2==r||1==r||13==r?(console.log("enter ar app"),F.Get("appli/getStartInfo",{appliId:n,codeRate:8e3,frameRate:60,regionId:this.region.regionId}).then((function(e){console.log("res ",e),t.$router.push({path:"/WebClient",query:{url:F.ToWebClientUrl(e)}})})).catch((function(e){console.log("on enter appli failed ",e)}))):(console.log("ar app type not support"),Object(z["a"])("Unsupport appli type "+r))},onToggleRegionList:function(){this.showRegionList=!this.showRegionList,console.log("on toggle region list",this.showRegionList,this.regionClass)},onChangeRegion:function(e){var t=e.currentTarget.dataset.index;this.region=this.regionList[t],this.showRegionList=!this.showRegionList},onSetupPage:function(){this.$router.push({path:"/Setup"})}},mounted:function(){console.log("index mounted"),console.log("index mounted Host",this.Host),console.log("index mounted hasPermission",this.hasPermission),console.log("index mounted isARReady",this.isARReady),this.isARReady||Object(z["a"])("AR环境未准备好，当前只支持SR应用"),this.freshRegionList(),this.onFresh(),console.log("index mounted finished")},beforeUnmount:function(){console.log("beforeUnmount")}};n("c043");const G=s()(J,[["render",E]]);var _=G,Y={class:"container"},Z=["src"];function W(e,t,n,r,o,i){var c=Object(a["H"])("van-nav-bar");return Object(a["A"])(),Object(a["h"])("div",Y,[Object(a["k"])(c,{title:"LarkXR","left-text":"返回","left-arrow":"",onClickLeft:i.onClickLeft},null,8,["onClickLeft"]),Object(a["i"])("iframe",{frameborder:"0",id:"iframe",src:o.url},"\r\n        ",8,Z)])}var q={data:function(){return{url:""}},methods:{onClickLeft:function(){this.$router.back()},onMessage:function(e){920==e.data.type&&this.$router.back()}},mounted:function(){this.url=window.decodeURIComponent(this.$route.query.url),console.log("load iframe ",this.$route.query.url,this.url),window.addEventListener("message",this.onMessage,!1)},beforeMount:function(){window.removeEventListener("message",this.onMessage,!1),this.url=""}};n("7506");const $=s()(q,[["render",W],["__scopeId","data-v-54c7be3e"]]);var ee=$,te=function(e){return Object(a["D"])("data-v-b5f95a1c"),e=e(),Object(a["B"])(),e},ne={class:"setup"},re={class:"section"},ae={class:"block"},oe=te((function(){return Object(a["i"])("div",{class:"block-title"},[Object(a["i"])("div",null," 服务器地址 "),Object(a["i"])("div",null," 例: http://192.168.0.55:8181/ ")],-1)})),ie={style:{margin:"16px"}},ce={class:"block"},se=te((function(){return Object(a["i"])("div",{class:"block-title"}," Google ARCore ",-1)})),ue=Object(a["j"])(" 检测 "),le=Object(a["j"])(" 安装 "),de=te((function(){return Object(a["i"])("div",{class:"block-title"}," Huawei AREngine ",-1)})),Ae=Object(a["j"])(" 检测 "),pe=Object(a["j"])(" 安装 ");function be(e,t,n,r,o,i){var c=Object(a["H"])("van-nav-bar"),s=Object(a["H"])("van-field"),u=Object(a["H"])("van-button"),l=Object(a["H"])("van-radio"),d=Object(a["H"])("van-cell"),A=Object(a["H"])("van-cell-group"),p=Object(a["H"])("van-radio-group");return Object(a["A"])(),Object(a["h"])("div",ne,[Object(a["k"])(c,{title:"设置","left-text":"返回","left-arrow":"",onClickLeft:i.onClickLeft},null,8,["onClickLeft"]),Object(a["i"])("section",re,[Object(a["i"])("div",ae,[oe,Object(a["k"])(s,{modelValue:o.serverAddress,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.serverAddress=e}),label:"地址",placeholder:"请输服务器地址",rules:[{required:!0,message:"请输服务器地址"}]},null,8,["modelValue"]),Object(a["i"])("div",ie,[Object(a["k"])(u,{round:"",block:"",plain:"",type:i.serverAddressButtonType,loading:o.checkingServer,"loading-text":"测试地址中...",onClick:i.onSubmitServerAddress},{default:Object(a["P"])((function(){return[Object(a["j"])(Object(a["K"])(i.serverAddressButton),1)]})),_:1},8,["type","loading","onClick"])])]),Object(a["i"])("div",ce,[Object(a["k"])(p,{modelValue:e.selectedArSDKString,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selectedArSDKString=t})},{default:Object(a["P"])((function(){return[se,Object(a["k"])(A,null,{default:Object(a["P"])((function(){return[Object(a["k"])(d,{title:"使用 ARCore",label:e.arcoreStatusReason,clickable:e.isArcoreReady,onClick:t[1]||(t[1]=function(t){return e.isArcoreReady&&e.selectARSDK(1)})},{"right-icon":Object(a["P"])((function(){return[Object(a["k"])(l,{name:"1",disabled:!e.isArcoreReady},null,8,["disabled"])]})),_:1},8,["label","clickable"]),Object(a["k"])(d,{title:e.arcoreSupportStatusText},{"right-icon":Object(a["P"])((function(){return[Object(a["k"])(u,{size:"small",onClick:e.checkArcoreSupport},{default:Object(a["P"])((function(){return[ue]})),_:1},8,["onClick"])]})),_:1},8,["title"]),Object(a["k"])(d,{title:e.arcoreInstallStatusText},{"right-icon":Object(a["P"])((function(){return[Object(a["k"])(u,{size:"small",onClick:t[2]||(t[2]=function(t){return e.checkArcoreInstall(!0)})},{default:Object(a["P"])((function(){return[le]})),_:1})]})),_:1},8,["title"])]})),_:1}),de,Object(a["k"])(A,null,{default:Object(a["P"])((function(){return[Object(a["k"])(d,{title:"使用 AREngine",label:e.arengineStatusReason,clickable:e.isArengineReady,onClick:t[3]||(t[3]=function(t){return e.isArengineReady&&e.selectARSDK(2)})},{"right-icon":Object(a["P"])((function(){return[Object(a["k"])(l,{name:"2",disabled:!e.isArengineReady},null,8,["disabled"])]})),_:1},8,["label","clickable"]),Object(a["k"])(d,{title:e.arengineSupportStatusText},{"right-icon":Object(a["P"])((function(){return[Object(a["k"])(u,{size:"small",onClick:e.checkArengineSupport},{default:Object(a["P"])((function(){return[Ae]})),_:1},8,["onClick"])]})),_:1},8,["title"]),Object(a["k"])(d,{title:e.arengineInstallStatusText},{"right-icon":Object(a["P"])((function(){return[Object(a["k"])(u,{size:"small",onClick:t[4]||(t[4]=function(t){return e.checkArengineInstall(!0)})},{default:Object(a["P"])((function(){return[pe]})),_:1})]})),_:1},8,["title"])]})),_:1})]})),_:1},8,["modelValue"])])])])}n("e9c4");var ge={data:function(){return{checkingServer:!1,serverAddressStatus:0,serverAddress:""}},computed:{serverAddressButtonType:function(){switch(this.serverAddressStatus){case 0:return"primary";case 1:return"success";case 2:return"danger";default:return""}},serverAddressButton:function(){switch(this.serverAddressStatus){case 0:return"检测当前地址";case 1:return"当前地址成功";case 2:return"当前地址失败";default:return"检测当前地址"}}},methods:{onClickLeft:function(){this.$router.back()},onSubmitServerAddress:function(){var e=this;if(console.log("checking server",this.serverAddress,this.Host),this.serverAddress)try{var t=new URL(this.serverAddress);this.saveHost(this.serverAddress),console.log("Setup serverAddr",t),this.checkingServer=!0,F.Get("/getVersionInfo").then((function(t){console.log("检测服务器地址成功",t),Object(z["a"])("设置成功: "+t.version),e.serverAddressStatus=1})).catch((function(t){console.log("检测服务器地址失败",t.message),Object(z["a"])("检测服务器地址失败:"+JSON.stringify(t.message)),e.serverAddressStatus=2})).finally((function(){e.checkingServer=!1}))}catch(n){Object(z["a"])("URL 格式不正确，正确格式：例: http://192.168.0.55:8181/")}else Object(z["a"])("请输服务器地址")}},mounted:function(){console.log("setup mounted"),this.serverAddress=this.Host,this.serverAddressStatus=0,console.log("setup mounted finished")},beforeUnmount:function(){console.log("setup beforeUnmount")}};n("1ff1");const fe=s()(ge,[["render",be],["__scopeId","data-v-b5f95a1c"]]);var he=fe,ve=function(e){return Object(a["D"])("data-v-6fbb9be6"),e=e(),Object(a["B"])(),e},Se={class:"setup"},je={class:"section"},Oe={class:"block"},ke=ve((function(){return Object(a["i"])("div",{class:"block-title"}," 进度 ",-1)})),me=Object(a["j"])("设置服务器地址"),Re=Object(a["j"])("检查AR SDK"),Ie=Object(a["j"])("成功"),ye={key:0,class:"block"},we=ve((function(){return Object(a["i"])("div",{class:"block-title"},[Object(a["i"])("div",null," 服务器地址 "),Object(a["i"])("div",null," 例: http://192.168.0.55:8181/ ")],-1)})),xe={style:{margin:"16px"}},Ee=Object(a["j"])(" 确认当前地址 "),Pe={key:1,class:"block"},Te=ve((function(){return Object(a["i"])("div",{class:"block-title"}," Google ARCore ",-1)})),Be=Object(a["j"])(" 检测 "),Le=Object(a["j"])(" 安装 "),Ce=ve((function(){return Object(a["i"])("div",{class:"block-title"}," Huawei AREngine ",-1)})),He=Object(a["j"])(" 检测 "),De=Object(a["j"])(" 安装 "),Me={style:{margin:"16px"}},Ne=Object(a["j"])(" 确认 ");function Ue(e,t,n,r,o,i){var c=Object(a["H"])("van-nav-bar"),s=Object(a["H"])("van-step"),u=Object(a["H"])("van-steps"),l=Object(a["H"])("van-field"),d=Object(a["H"])("van-button"),A=Object(a["H"])("van-radio"),p=Object(a["H"])("van-cell"),b=Object(a["H"])("van-cell-group"),g=Object(a["H"])("van-radio-group");return Object(a["A"])(),Object(a["h"])("div",Se,[Object(a["k"])(c,{title:"初始设置"}),Object(a["i"])("section",je,[Object(a["i"])("div",Oe,[ke,Object(a["k"])(u,{active:o.active},{default:Object(a["P"])((function(){return[Object(a["k"])(s,null,{default:Object(a["P"])((function(){return[me]})),_:1}),Object(a["k"])(s,null,{default:Object(a["P"])((function(){return[Re]})),_:1}),Object(a["k"])(s,null,{default:Object(a["P"])((function(){return[Ie]})),_:1})]})),_:1},8,["active"])]),-1==o.active?(Object(a["A"])(),Object(a["h"])("div",ye,[we,Object(a["k"])(l,{modelValue:o.serverAddress,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.serverAddress=e}),label:"地址",placeholder:"请输服务器地址",rules:[{required:!0,message:"请输服务器地址"}]},null,8,["modelValue"]),Object(a["i"])("div",xe,[Object(a["k"])(d,{round:"",block:"",type:"primary",loading:o.checkingServer,"loading-text":"测试地址中...",onClick:i.onSubmitServerAddress},{default:Object(a["P"])((function(){return[Ee]})),_:1},8,["loading","onClick"])])])):Object(a["g"])("",!0),0==o.active?(Object(a["A"])(),Object(a["h"])("div",Pe,[Object(a["k"])(g,{modelValue:e.selectedArSDKString,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selectedArSDKString=t})},{default:Object(a["P"])((function(){return[Te,Object(a["k"])(b,null,{default:Object(a["P"])((function(){return[Object(a["k"])(p,{title:"使用 ARCore",label:e.arcoreStatusReason,clickable:e.isArcoreReady,onClick:t[1]||(t[1]=function(t){return e.isArcoreReady&&e.selectARSDK(1)})},{"right-icon":Object(a["P"])((function(){return[Object(a["k"])(A,{name:"1",disabled:!e.isArcoreReady},null,8,["disabled"])]})),_:1},8,["label","clickable"]),Object(a["k"])(p,{title:e.arcoreSupportStatusText},{"right-icon":Object(a["P"])((function(){return[Object(a["k"])(d,{size:"small",onClick:e.checkArcoreSupport},{default:Object(a["P"])((function(){return[Be]})),_:1},8,["onClick"])]})),_:1},8,["title"]),Object(a["k"])(p,{title:e.arcoreInstallStatusText},{"right-icon":Object(a["P"])((function(){return[Object(a["k"])(d,{size:"small",onClick:t[2]||(t[2]=function(t){return e.checkArcoreInstall(!0)})},{default:Object(a["P"])((function(){return[Le]})),_:1})]})),_:1},8,["title"])]})),_:1}),Ce,Object(a["k"])(b,null,{default:Object(a["P"])((function(){return[Object(a["k"])(p,{title:"使用 AREngine",label:e.arengineStatusReason,clickable:e.isArengineReady,onClick:t[3]||(t[3]=function(t){return e.isArengineReady&&e.selectARSDK(2)})},{"right-icon":Object(a["P"])((function(){return[Object(a["k"])(A,{name:"2",disabled:!e.isArengineReady},null,8,["disabled"])]})),_:1},8,["label","clickable"]),Object(a["k"])(p,{title:e.arengineSupportStatusText},{"right-icon":Object(a["P"])((function(){return[Object(a["k"])(d,{size:"small",onClick:e.checkArengineSupport},{default:Object(a["P"])((function(){return[He]})),_:1},8,["onClick"])]})),_:1},8,["title"]),Object(a["k"])(p,{title:e.arengineInstallStatusText},{"right-icon":Object(a["P"])((function(){return[Object(a["k"])(d,{size:"small",onClick:t[4]||(t[4]=function(t){return e.checkArengineInstall(!0)})},{default:Object(a["P"])((function(){return[De]})),_:1})]})),_:1},8,["title"])]})),_:1})]})),_:1},8,["modelValue"]),Object(a["i"])("div",Me,[Object(a["k"])(d,{round:"",block:"",type:"primary",onClick:i.onSubmit},{default:Object(a["P"])((function(){return[Ne]})),_:1},8,["onClick"])])])):Object(a["g"])("",!0)])])}var Qe=n("75e6"),Ve={data:function(){return{active:-1,checkingServer:!1,serverAddress:""}},methods:{onSubmitServerAddress:function(){var e=this;if(console.log("checking server",this.serverAddress,this.Host),this.serverAddress)try{var t=new URL(this.serverAddress);this.saveHost(this.serverAddress),console.log("Setup serverAddr",t),this.checkingServer=!0,F.Get("/getVersionInfo").then((function(t){console.log("检测服务器地址成功",t),Object(z["a"])("设置成功: "+t.version),e.active++})).catch((function(e){console.log("检测服务器地址失败",e),Object(z["a"])("检测服务器地址失败:"+JSON.stringify(e))})).finally((function(){e.checkingServer=!1}))}catch(n){Object(z["a"])("URL 格式不正确，正确格式：例: http://192.168.0.55:8181/")}else Object(z["a"])("请输服务器地址")},onSubmit:function(){var e=this;this.isARReady?(Object(z["a"])("当前选择 AR SDK "+this.selectedArSDK),this.active++,this.$router.replace("/")):Object(Qe["a"])({message:"没有找到可用的 AR SDK 环境，当前只支持SR应用。"}).then((function(){e.active++,e.$router.replace("/")}))}}};n("fdcf");const Ke=s()(Ve,[["render",Ue],["__scopeId","data-v-6fbb9be6"]]);var Xe=Ke,Fe=[{path:"/",name:"Index",component:_},{path:"/WebClient",name:"WebClient",component:ee},{path:"/Setup",name:"Setup",component:he},{path:"/First",name:"First",component:Xe},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],ze=Object(d["a"])({history:Object(d["b"])(),routes:Fe}),Je=ze,Ge=n("b970"),_e=(n("157a"),{computed:Object(r["a"])(Object(r["a"])({},Object(H["e"])({Host:function(e){return e.Host},selectedArSDKType:function(e){return e.selectedArSDKType},hasPermission:function(e){return e.hasPermission},arcoreSupportStatus:function(e){return e.arcoreSupportStatus},arcoreInstallStatus:function(e){return e.arcoreInstallStatus},arengineSupportStatus:function(e){return e.arengineSupportStatus},arengineInstallStatus:function(e){return e.arengineInstallStatus}})),Object(H["c"])({isArcoreReady:"isArcoreReady",isArengineReady:"isArengineReady",isARReady:"isARReady",arcoreStatusReason:"arcoreStatusReason",arengineStatusReason:"arengineStatusReason",arcoreSupportStatusText:"arcoreSupportStatusText",arcoreInstallStatusText:"arcoreInstallStatusText",arengineSupportStatusText:"arengineSupportStatusText",arengineInstallStatusText:"arengineInstallStatusText",selectedArSDKString:"selectedArSDKString"})),methods:Object(r["a"])(Object(r["a"])({},Object(H["d"])({})),Object(H["b"])({saveHost:"saveHost",restoreHost:"restoreHost",updateStatus:"updateStatus",checkArcoreSupport:"checkArcoreSupport",checkArcoreInstall:"checkArcoreInstall",checkArengineSupport:"checkArengineSupport",checkArengineInstall:"checkArengineInstall",selectARSDK:"selectARSDK",restoreSDKType:"restoreSDKType"}))});Object(a["e"])(l).use(U).use(Je).use(Ge["a"]).mixin(_e).mount("#app")},"61e3":function(e,t,n){},"679d":function(e,t,n){e.exports=n.p+"img/WX20210807-233343.b5473b8f.jpg"},7506:function(e,t,n){"use strict";n("8473")},8473:function(e,t,n){},"87d4":function(e,t){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAeAAD/4QMvaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MiA3OS4xNjA5MjQsIDIwMTcvMDcvMTMtMDE6MDY6MzkgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM5QjQzNjMyNDEyNzExRUM4QTE0OEM1OThGOEVCQjBEIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM5QjQzNjMxNDEyNzExRUM4QTE0OEM1OThGOEVCQjBEIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkJDRjE0RENBMUE5NTExRUJCMzE2RUQzNDFFRkVENTkxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkJDRjE0RENCMUE5NTExRUJCMzE2RUQzNDFFRkVENTkxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQAEAsLCwwLEAwMEBcPDQ8XGxQQEBQbHxcXFxcXHx4XGhoaGhceHiMlJyUjHi8vMzMvL0BAQEBAQEBAQEBAQEBAQAERDw8RExEVEhIVFBEUERQaFBYWFBomGhocGhomMCMeHh4eIzArLicnJy4rNTUwMDU1QEA/QEBAQEBAQEBAQEBA/8AAEQgAVACWAwEiAAIRAQMRAf/EAHMAAQEBAQEBAAAAAAAAAAAAAAABAgQDBgEBAQEBAAAAAAAAAAAAAAAAAAECBBABAAIBAgIIBgMBAAAAAAAAAAECERIDITFBUYGR0SITBGFxsTJCkqHBYhQRAQACAgMBAAAAAAAAAAAAAAABESECQVESMv/aAAwDAQACEQMRAD8A+BbxpjHT0rSuI1T2JLoKRFBEABBUAAAAAUAFRQFxqj4wixzFYHrp4xaOXTAHlbTxebVpZCQARAAEVAAAAUAABUUAAVvPCRnPAFtAkGRFyap+HdAINa56o/WPA9S3VX9a+AmWXp/z72mLacRaMxmYzjE2zjnyhi0zaczjsiI+jone2LbvrarRa1ZraunlmmjMTniJMzw5sTzxz5LTbve0VpGbTMRHa7J93szztea3/HHDbjRamK8eP3fw1t+82du9NNr1rtzSc1iM3ildMxPmGZ22r5cVdrcvia1m0TOmMdfUt9jdpSL2rMVtjE/OMx3w9fbe4ps0vW0TPq+S2PxrjnX/AF/XzN73NNzZ9OK6ZjR5oj7tNNHm+XQLe3qqx25xa2mvLHbET9V9S3VX9Y8BrLI1rnqjujwTVPw7oFAyABkFQWUVAAABABAUAEUQFEUAAABQABRDJYuEMmTAIvABBUQFQAAAUFAOBkFwJkyWKIFhKAgAAAAoCgAgAKCAgAAAAoAP/9k="},c043:function(e,t,n){"use strict";n("d410")},d410:function(e,t,n){},ef31:function(e,t){e.exports="data:image/png;base64,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"},f7a7:function(e,t,n){},fadf:function(e,t,n){"use strict";n("f7a7")},fdcf:function(e,t,n){"use strict";n("61e3")}});